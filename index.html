<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VRRefiner Maintenance</title>
  <style>
    body {
      font-family: 'Times New Roman', serif;
      font-size: 12px;
      background-color: #f4f4f9;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #2c3e50;
      color: white;
    }
    select, input, textarea {
      width: 100%;
      font-family: 'Times New Roman', serif;
      font-size: 12px;
    }
    button {
      margin-top: 20px;
      padding: 10px 15px;
      background-color: #3498db;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #2980b9;
    }
  </style>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
</head>
<body>
  <h1>VRRefiner Maintenance</h1>

  <table>
    <tr>
      <th>Site Name</th>
      <th>Inspection Date</th>
      <th>Device Status</th>
      <th>Issue Picture</th>
      <th>Issue Notes</th>
      <th>Work Plan</th>
      <th>Responsible Person</th>
      <th>Needed HSE Documents</th>
    </tr>
    <tr>
      <td>
        <select id="siteName">
          <option>RUSAYL OMAN OIL 7307</option>
          <option>SQU</option>
          <option>MAABILLAH MEGA</option>
          <option>SEH AHMAR</option>
          <option>HALBAN EXPRESSWAY</option>
          <option>AL ANSAB EXPRESSWAY</option>
          <option>BURJ AL SAHWA</option>
          <option>HAY ALTADHAMUN</option>
          <option>SUWAIQ</option>
          <option>BURAIMI HW</option>
          <option>FALAJ ALQABAIL</option>
          <option>GHALA EXPRESSWAY</option>
          <option>QURUM SS</option>
          <option>MAWALEH CITY CENTRE SS</option>
          <option>ALKHUWAIR</option>
          <option>MANAL SS</option>
          <option>AL BURAIK</option>
          <option>SARFEET</option>
          <option>AL FATEH</option>
          <option>AL SAAD NEW</option>
          <option>MULADAH SS</option>
          <option>MIRBAT</option>
          <option>SHINAS FILLING STATION</option>
          <option>AL WADI SS</option>
          <option>SUSTAINABLE OASIS FS</option>
        </select>
      </td>
      <td><input type="date" id="inspectionDate" value=""></td>
      <td>
        <select id="deviceStatus">
          <option style="color:green">VRR Working well</option>
          <option style="color:red">VRR not working-Needs team check & care</option>
          <option style="color:red">VRR show low recovery-Needs team check & care</option>
          <option style="color:orange">VRR Under observation</option>
          <option style="color:purple">Oman Oil Responsibility</option>
          <option style="color:red">Need Cleaning - See the graph</option>
          <option style="color:black">VRR Under Maintenance</option>
        </select>
      </td>
      <td><input type="file" id="issuePicture"></td>
      <td><textarea id="issueNotes"></textarea></td>
      <td><textarea id="workPlan"></textarea></td>
      <td>
        <select id="responsiblePerson">
          <option>Non</option>
          <option>Arjun Chakramanath</option>
          <option>Ahmed Saif Ahmed Al Hadhrami</option>
          <option>Said Ali Salim Bait Said</option>
          <option>Sultan Al-Ruzaiqi</option>
          <option>Unni - Compressor Team</option>
        </select>
      </td>
      <td><textarea id="hseDocs"></textarea></td>
    </tr>
  </table>

  <button onclick="saveData()">Save Changes</button>

  <script>
    // Set today's date by default
    document.getElementById('inspectionDate').valueAsDate = new Date();

    // Initialize Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyA-PyQT94143VtIrUU9npAyhesPftgOd_0",
      authDomain: "vrrefiner-maintenance.firebaseapp.com",
      projectId: "vrrefiner-maintenance",
      storageBucket: "vrrefiner-maintenance.firebasestorage.app",
      messagingSenderId: "1033085544661",
      appId: "1:1033085544661:web:6bb485da437ba49de35a5c",
      measurementId: "G-0YTYC4P4TG"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function saveData() {
      const record = {
        siteName: document.getElementById('siteName').value,
        inspectionDate: document.getElementById('inspectionDate').value,
        deviceStatus: document.getElementById('deviceStatus').value,
        issueNotes: document.getElementById('issueNotes').value,
        workPlan: document.getElementById('workPlan').value,
        responsible: document.getElementById('responsiblePerson').value,
        hseDocs: document.getElementById('hseDocs').value,
        timestamp: new Date().toISOString()
      };
      database.ref("maintenance/" + Date.now()).set(record)
        .then(() => alert("Saved successfully!"))
        .catch((error) => alert("Error: " + error));
    }
  </script>
</body>
</html>
